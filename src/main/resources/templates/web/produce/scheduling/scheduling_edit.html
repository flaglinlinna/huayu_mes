<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head th:include="layout :: htmlhead" th:with="title='排产信息'">
<meta charset="utf-8"></meta>
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
    <div style="margin: 10px">
        <form id="editForm" class="layui-form layui-form-pane" method="post" action="" style="margin-top: 20px;">
            <input type="text" id="id" name="id" hidden="true">
            <div class="layui-collapse" lay-accordion="">
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">编辑</h2>
                    <div class="layui-colla-content layui-show">
                        <div class="layui-form-item" style="margin-bottom: 0px">
                            <div class="layui-inline">
                                <label class="layui-form-label">制令单号</label>
                                <div class="layui-input-inline">
                                    <!--颜色：#EBEBE4、#F2F2F2-->
                                    <input type="text" id="taskNo" name="taskNo" readonly style="background-color: #F2F2F2;" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label" >工单单号</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="prodNo" name="prodNo" readonly style="background-color: #F2F2F2;" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label" >生产状态</label>
                                <div class="layui-input-inline">
                                   <input type="text" id="produceState" name="produceState" readonly class="layui-input" style="background-color: #F2F2F2;">
                                   <!-- <select id="produceState" name='produceState' disabled  class="layui-input">
                                        <option value=""></option>
                                        <option value="待产">待产</option>
                                        <option value="生产">生产</option>
                                        <option value="完工">完工</option>
                                        <option value="停工">停工</option>
                                    </select>-->
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">物料编码</label>
                                <div class="layui-input-inline">
                                    <!--<input type="text" id="itemNo" name="itemNo" class="layui-input">-->
                                  <!--  <select id="itemId" name='itemId' lay-filter="itemId" disabled lay-search class="layui-input">
                                        <option value=""></option>
                                    </select> --> 
                                    <input type="text" id="itemId" name="itemId" readonly style="background-color: #F2F2F2;" class="layui-input">
                                    
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">物料描述</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="itemName" name="itemName" readonly style="background-color: #F2F2F2;" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">组合</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="groupNo" name="groupNo" readonly style="background-color: #F2F2F2;" autocomplete="off" placeholder="" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">客户</label>
                                <div class="layui-input-inline">
                                    <!--<input type="text" id="custName" name="custName" autocomplete="off" placeholder="" class="layui-input">-->
                                    <!-- <select id="custId" name='custId' disabled class="layui-input" lay-event="custId" lay-search>
                                        <option value=""></option>
                                    </select>-->
                                    <input type="text" id="custName" name="custName" readonly style="background-color: #F2F2F2;" autocomplete="off" placeholder="" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">组长</label>
                                <div class="layui-input-inline">
                                    <!--<input type="text" id="linerName" name="linerName" autocomplete="off" placeholder="" class="layui-input">-->
                                   <!-- <select id="linerName" disabled name='linerName' lay-search style="background-color: #F2F2F2;" class="layui-input">
                                        <option value=""></option>
                                    </select>-->
                                     <input type="text" id="linerName" name="linerName" readonly style="background-color: #F2F2F2;" autocomplete="off" placeholder="" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">生产日期</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="prodDate" disabled style="background-color: #F2F2F2;" name="prodDate" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">部门</label>
                                <div class="layui-input-inline">
                                    <!--<input type="text" id="deptName" name="deptName" autocomplete="off" placeholder="" class="layui-input">-->
                                    <!--<select id="deptId" name='deptId' disabled lay-search class="layui-input">
                                        <option value=""></option>
                                    </select>-->
                                     <input type="text" id="deptId" name="deptId" readonly style="background-color: #F2F2F2;" autocomplete="off" placeholder="" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">班次</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="classNo" name="classNo" autocomplete="off" readonly style="background-color: #F2F2F2;" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">计划数量</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="qtyPlan" name="qtyPlan" autocomplete="off" readonly style="background-color: #F2F2F2;" class="layui-input">
                                </div>
                            </div>
                        </div>

                        <!-- <div class="layui-form-item" style="margin-bottom: 0px;text-align: center;">
                            <button type="button" class="layui-btn layui-btn-sm" lay-submit="" lay-filter="editBtn">保存</button>
                        </div>-->
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div class="layui-tab layui-tab-brief" lay-filter="tabFilter">
        <ul class="layui-tab-title">
            <li lay-id="add" class="layui-this">工艺维护</li>
            <li lay-id="list">工单组件</li>
        </ul>
        <div class="layui-tab-content" style="height: 100px; display: block">
            <div class="layui-tab-item layui-show">
                <!--工艺维护列表-->
                <table id="iList" lay-filter="iTable"></table>
                <form style="margin-bottom: 0px;text-align: center;">
                    <button type="button" class="layui-btn layui-btn-sm" lay-submit="" lay-filter="saveProcess">保存工艺</button>
                </form>
                <script type="text/html" id="statusTpl">
                    {{# if(d.jobAttr==1){ }}
                    <input type="checkbox" name="{{d.procNo}}" value="{{d.id}}" lay-skin="primary" lay-filter="isStatusTpl" checked="checked" />
                    {{#  } else { }}
                    <input type="checkbox" name="{{d.procNo}}" value="{{d.id}}" lay-skin="primary"  lay-filter="isStatusTpl"/>
                    {{#  } }}
                </script>
                <script type="text/html" id="optBar">
                    {{#  if(d.isCheck==1){ }}
                    <button type="button" class="layui-btn layui-btn-xs" lay-event="edit1">编辑</button>
                    {{#  } else { }}
                    <!--<button type="button" class="layui-btn layui-btn-xs" lay-event="edit1" disabled="true">编辑</button>-->
                    {{#  } }}
                </script>
            </div>
            <div class="layui-tab-item">
                <!--工单组件列表-->
                <table id="iList2" lay-filter="iTable2"></table>
                <script type="text/html" id="optBar2">
                    <a class="layui-btn layui-btn-xs" lay-event="edit2">编辑</a>
                </script>
            </div>
        </div>
    </div>

    <!--编辑工艺维护-->
    <div id="editDiv1" class="layer_self_wrap" style="width:500px;height:300px;display:none;">
        <form id="editForm1" class="layui-form layui-form-pane"  lay-filter="editForm1" method="post" action="" style="margin-top: 20px;">
            <input id="processId1" type="hidden" name="id"/>
            <input id="mid1" type="hidden" name="mid"/>
            <div class="layui-form-item">
                <label class="layui-form-label">工序顺序</label>
                <div class="layui-input-inline" style="width: 350px;">
                    <input id="procOrder1" name="procOrder" autocomplete="off" class="layui-input" type="text"/>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">过程属性</label>
                <div class="layui-input-inline" style="width: 350px;">
                    <input type="checkbox" id="jobAttr1" name="jobAttr" value="1" lay-skin="primary" checked="" />
                    <!--<input id="jobAttr1" name="jobAttr" autocomplete="off" class="layui-input" type="text"/>-->
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">作业员</label>
                <div class="layui-input-inline" style="width: 350px;">
                    <!--<select id="empId1" name="empId" lay-search class="layui-input">-->
                        <!--<option value=""></option>-->
                    <!--</select>-->
                    <input id="empId1" name="empId1" lay-filter="empId1" autocomplete="off"
                           class="layui-input" type="text" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">工序编号</label>
                <div class="layui-input-inline" style="width: 350px;">
                    <input id="procNo1" style="background-color: #F2F2F2;"  name="procNo" readonly class="layui-input" type="text"/>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">工序名称</label>
                <div class="layui-input-inline" style="width: 350px;">
                    <input id="procName1" style="background-color: #F2F2F2;"  name="procName"  readonly class="layui-input" type="text"/>
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block" style="margin-left: 10px;">
                    <button class="layui-btn layui-btn-sm"  lay-submit="" lay-filter="editSubmit1">提交</button>
                </div>
            </div>
        </form>
    </div>

    <!--编辑工单组件-->
    <div id="editDiv2" class="layer_self_wrap" style="width:500px;height:250px;display:none;">
        <form id="editForm2" class="layui-form layui-form-pane"  lay-filter="editForm2" method="post" action="" style="margin-top: 20px;">
            <input id="itemId2" type="hidden" name="id"/>
            <input id="mid2" type="hidden" name="mid"/>
            <input id="empId" type="hidden" name="empId"/>
            <div class="layui-form-item">
                <label class="layui-form-label">作业员</label>
                <div class="layui-input-inline" style="width: 350px;">
                    <!--<select id="empId2" name="empId" lay-search class="layui-input">-->
                        <!--<option value=""></option>-->
                    <!--</select>-->

                    <input id="empId2" name="empId2"  lay-filter="empId2" autocomplete="off"
                           class="layui-input" type="text" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">物料编号</label>
                <div class="layui-input-inline" style="width: 350px;">
                    <input id="itemNo2" name="itemNo" readonly class="layui-input" type="text"/>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">物料描述</label>
                <div class="layui-input-inline" style="width: 350px;">
                    <input id="itemName2" name="itemName" readonly class="layui-input" type="text"/>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">用量</label>
                <div class="layui-input-inline" style="width: 350px;">
                    <input id="itemQty2" name="itemQty" readonly class="layui-input" type="text"/>
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block" style="margin-left: 10px;">
                    <button class="layui-btn layui-btn-sm"  lay-submit="" lay-filter="editSubmit2">提交</button>
                </div>
            </div>
        </form>
    </div>

    <script th:inline="javascript">
        var id = [[${id}]];
        var mapData = [[${mapData}]];
        var scheduling = mapData ? mapData.scheduling : null;
        var itemList = mapData ? mapData.itemList : null;
        var clientList = mapData ? mapData.clientList : null;
        var lineList = mapData ? mapData.lineList : null;
        var orgList = mapData ? mapData.orgList : null;
        var employeeList = mapData ? mapData.employeeList : null;
    </script>
    <script th:src="@{/js/web/produce/scheduling/scheduling_edit.js}" src="/js/web/produce/scheduling/scheduling_edit.js"></script>
</div>
</body>
</html>
